# 11 - Node.js – syntaxe, cesty, zpracování požadavků
Node.js je JavaScriptový runtime postavený na V8 enginu od Googlu. Umožňuje spouštět JavaScript mimo prohlížeč – typicky na serveru. Je oblíbený pro tvorbu REST API, websocketových serverů a nástrojů příkazové řádky.

ZÁKLADY NODE.JS

* Běží na serveru, nikoliv v prohlížeči
* Asynchronní, událostmi řízený model (event loop)
* Vysoký výkon, vhodné pro I/O operace
* Modulární systém založený na CommonJS (`require`)

VYTVOŘENÍ ZÁKLADNÍHO SERVERU

```javascript
const http = require("http");

const server = http.createServer((req, res) => {
  res.writeHead(200, { "Content-Type": "text/plain" });
  res.end("Ahoj ze serveru!");
});

server.listen(3000, () => {
  console.log("Server běží na http://localhost:3000");
});
```

ZPRACOVÁNÍ CEST (ROUTOVÁNÍ)
Základní směrování bez frameworku:

```javascript
const server = http.createServer((req, res) => {
  if (req.url === "/") {
    res.end("Hlavní stránka");
  } else if (req.url === "/o-nas") {
    res.end("O nás");
  } else {
    res.writeHead(404);
    res.end("Stránka nenalezena");
  }
});
```

PRÁCE S CESTAMI
Modul `path` umožňuje bezpečnou manipulaci s cestami:

```javascript
const path = require("path");

let cesta = path.join(__dirname, "data", "soubor.txt");
console.log(cesta);
```

PRÁCE SE SOUBORY
Modul `fs` (filesystem):

```javascript
const fs = require("fs");

fs.readFile("soubor.txt", "utf8", (err, data) => {
  if (err) throw err;
  console.log(data);
});
```

POUŽITÍ EXPRESS.JS
Populární framework, který zjednodušuje práci s routami:

```javascript
const express = require("express");
const app = express();

app.get("/", (req, res) => {
  res.send("Domů");
});

app.get("/api/data", (req, res) => {
  res.json({ jmeno: "Jan" });
});

app.listen(3000);
```

ZPRACOVÁNÍ TĚLA POŽADAVKU
Pro práci s POST daty:

```javascript
app.use(express.json());

app.post("/api", (req, res) => {
  console.log(req.body);
  res.send("Data přijata");
});
```

DALŠÍ MODULY

* `os` – informace o systému
* `events` – práce s událostmi
* `crypto` – hashování, šifrování

NPM – Node Package Manager

* Instalace balíčků: `npm install express`
* `package.json` – popis projektu, závislosti

ZÁVĚR
Node.js je výkonný nástroj pro serverovou logiku v JavaScriptu. Je vhodný pro tvorbu moderních webových aplikací a API. Díky asynchronnímu modelu dobře zvládá velké množství současných požadavků.
